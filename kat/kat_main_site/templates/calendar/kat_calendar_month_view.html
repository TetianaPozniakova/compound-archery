{% extends "kat_base.html" %}
{% block title %}Календарь соревнований{% endblock %}

{% block head %}
  <link href="/media/css/calendar.css" rel="stylesheet" type="text/css">
{% endblock %}

{% block global_content %}

<a href= "{% url "month" year month "prev" %}">&lt;&lt; Prev</a>
<a href= "{% url "main"%}">Calendar</a>
<a href= "{% url "month" year month "next" %}">Next &gt;&gt;</a>

<h4>{{ mname }} {{ year }}</h4>

  <table class="calendar">

  <tr>
      <td class="week-day">Mon</td>
      <td class="week-day">Tue</td>
      <td class="week-day">Wed</td>
      <td class="week-day">Thu</td>
      <td class="week-day">Fri</td>
      <td class="week-day">Sat</td>
      <td class="week-day">Sun</td>
  </tr>

  {% for week in month_days %}
    <tr>
    {% for day, entries, current in week %}

      <!-- TD style: empty | day | current; onClick handler and highlight  -->
      <td class="{% if day == 0 %}empty{% endif %}
      {% if day != 0 and not current %}day{% endif %}
      {% if day != 0 and current %}current{% endif %}"
      {% if day != 0 %}
          onMouseOver="this.bgColor='#eeeeee';"
          onMouseOut="this.bgColor='transparent';"
      {% endif %}>

      <!-- Day number and entry snippets -->
      {% if day != 0 %}
        <table class="cal-day {% if entries.count == 1 %}cal-entry{% endif %}
                      {% if entries.count == 2 %}two-cal-entry{% endif %}
                      {% if entries.count == 3 %}three-cal-entry{% endif %}">
          <tr>
            <td id="cal-date">{{ day }}</td>
              {% for entry in entries %}
                <td >{{ entry.event_title }}</td>
              {% endfor %}
          </tr>
        </table>
      {% endif %}
      </td>

    {% endfor %}
    </tr>
  {% endfor %}
  </table>

  <div class="clear"></div>
{% endblock %}